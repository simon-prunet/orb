

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; Orb 3.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="orb.utils package" href="orb.utils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Orb
          

          
            
            <img src="_static/logo_sidebar.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">ORB installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="orb.html">orb package</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v1-0-creation-of-orb">v1.0 Creation of ORB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v1-1">v1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multi-fit-of-stars">Multi fit of stars</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usno-b1-based-star-detection">USNO-B1 based star detection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-2">v1.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-1">v1.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-2">v1.2.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#orcs-integration">ORCS integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orb-s-scripts">ORB’s scripts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-3">v1.2.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-4">v1.2.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sitelle-data">SITELLE data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-4-1">v1.2.4.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v1-2-4-2">v1.2.4.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#astropy">Astropy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#better-star-fit">Better Star fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spiomm-bias-overscan-for-camera-2">SpIOMM bias overscan for camera 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-3-start-of-cfht-integration">v1.3 Start of CFHT integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-0-orb-viewer">v1.3.0 ORB-Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-1">v1.3.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#orb-header">orb-header</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-2">v1.3.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scripts">scripts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-3">v1.3.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#alignement">Alignement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sip-distorsion">SIP/Distorsion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hdf5">HDF5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-4-0">v1.3.4.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#binning-detection">Binning detection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-3-4-1">v1.3.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#doc-update">Doc update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-4-the-hdf5-miracle">v1.4 The HDF5 miracle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-4-0">v1.4.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#visual-module">Visual module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orb-viewer">Orb-viewer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-module">Data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-5-handing-sitelle-s-real-data-cubes">v1.5: Handing SITELLE’s real data cubes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-5-0">v1.5.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#phase-correction">Phase correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#point-source-detection">Point source detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#d-viewer">3D Viewer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-5-1">v1.5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hdf5-final-output-format">HDF5 Final output format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complex-data-cubes">Complex data cubes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-more-automatic-logging">No more automatic logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibration-laser-map-fit">Calibration laser map fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#phase-map-fit">Phase map fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">2D viewer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-6-architectural-changes">v1.6: Architectural changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-6-0">v1.6.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#architecture">Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-fit-classes">New Fit classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compression">Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adaptation-to-sitelle">Adaptation to SITELLE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v-1-6-1">v.1.6.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#zernike-modes-fit">Zernike Modes Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-module-utils-io">New module utils.IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v-1-6-2">v.1.6.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#photometry">Photometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quadcube">QuadCube</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v-1-6-3">v.1.6.3</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-2-data-release-1">v.2. Data Release 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v-2-0-dr1-beta">v.2.0-DR1-beta</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#outhdfquadcube">OutHDFQuadCube</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Photometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fit-module">Fit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v-2-0-1">v.2.0.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Fit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gaussian-apodization">Gaussian apodization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#standard-proper-motion">Standard Proper motion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v-2-1-0">v.2.1.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">Fit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v-2-2-0">v.2.2.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Orb</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<h1><a class="toc-backref" href="#id17">Changelog</a><a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#changelog" id="id17">Changelog</a><ul>
<li><a class="reference internal" href="#v1-0-creation-of-orb" id="id18">v1.0 Creation of ORB</a></li>
<li><a class="reference internal" href="#v1-1" id="id19">v1.1</a><ul>
<li><a class="reference internal" href="#multi-fit-of-stars" id="id20">Multi fit of stars</a></li>
<li><a class="reference internal" href="#usno-b1-based-star-detection" id="id21">USNO-B1 based star detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-2" id="id22">v1.2</a><ul>
<li><a class="reference internal" href="#v1-2-1" id="id23">v1.2.1</a></li>
<li><a class="reference internal" href="#v1-2-2" id="id24">v1.2.2</a><ul>
<li><a class="reference internal" href="#orcs-integration" id="id25">ORCS integration</a></li>
<li><a class="reference internal" href="#orb-s-scripts" id="id26">ORB’s scripts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-2-3" id="id27">v1.2.3</a></li>
<li><a class="reference internal" href="#v1-2-4" id="id28">v1.2.4</a><ul>
<li><a class="reference internal" href="#miscellaneous" id="id29">Miscellaneous</a></li>
<li><a class="reference internal" href="#sitelle-data" id="id30">SITELLE data</a><ul>
<li><a class="reference internal" href="#sitelle-image-mode" id="id31">Sitelle image mode</a></li>
<li><a class="reference internal" href="#prebinning" id="id32">Prebinning</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v1-2-4-1" id="id33">v1.2.4.1</a></li>
<li><a class="reference internal" href="#v1-2-4-2" id="id34">v1.2.4.2</a><ul>
<li><a class="reference internal" href="#astropy" id="id35">Astropy</a></li>
<li><a class="reference internal" href="#better-star-fit" id="id36">Better Star fit</a></li>
<li><a class="reference internal" href="#spiomm-bias-overscan-for-camera-2" id="id37">SpIOMM bias overscan for camera 2</a></li>
<li><a class="reference internal" href="#id1" id="id38">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v1-3-start-of-cfht-integration" id="id39">v1.3 Start of CFHT integration</a><ul>
<li><a class="reference internal" href="#v1-3-0-orb-viewer" id="id40">v1.3.0 ORB-Viewer</a></li>
<li><a class="reference internal" href="#v1-3-1" id="id41">v1.3.1</a><ul>
<li><a class="reference internal" href="#orb-header" id="id42">orb-header</a></li>
<li><a class="reference internal" href="#id2" id="id43">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-3-2" id="id44">v1.3.2</a><ul>
<li><a class="reference internal" href="#scripts" id="id45">scripts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-3-3" id="id46">v1.3.3</a><ul>
<li><a class="reference internal" href="#alignement" id="id47">Alignement</a></li>
<li><a class="reference internal" href="#sip-distorsion" id="id48">SIP/Distorsion</a></li>
<li><a class="reference internal" href="#hdf5" id="id49">HDF5</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-3-4-0" id="id50">v1.3.4.0</a><ul>
<li><a class="reference internal" href="#binning-detection" id="id51">Binning detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-3-4-1" id="id52">v1.3.4.1</a><ul>
<li><a class="reference internal" href="#doc-update" id="id53">Doc update</a></li>
<li><a class="reference internal" href="#id3" id="id54">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v1-4-the-hdf5-miracle" id="id55">v1.4 The HDF5 miracle</a><ul>
<li><a class="reference internal" href="#v1-4-0" id="id56">v1.4.0</a><ul>
<li><a class="reference internal" href="#visual-module" id="id57">Visual module</a></li>
<li><a class="reference internal" href="#orb-viewer" id="id58">Orb-viewer</a></li>
<li><a class="reference internal" href="#data-module" id="id59">Data module</a></li>
<li><a class="reference internal" href="#id4" id="id60">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v1-5-handing-sitelle-s-real-data-cubes" id="id61">v1.5: Handing SITELLE’s real data cubes</a><ul>
<li><a class="reference internal" href="#v1-5-0" id="id62">v1.5.0</a><ul>
<li><a class="reference internal" href="#phase-correction" id="id63">Phase correction</a></li>
<li><a class="reference internal" href="#point-source-detection" id="id64">Point source detection</a></li>
<li><a class="reference internal" href="#d-viewer" id="id65">3D Viewer</a></li>
<li><a class="reference internal" href="#id5" id="id66">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v1-5-1" id="id67">v1.5.1</a><ul>
<li><a class="reference internal" href="#hdf5-final-output-format" id="id68">HDF5 Final output format</a></li>
<li><a class="reference internal" href="#complex-data-cubes" id="id69">Complex data cubes</a></li>
<li><a class="reference internal" href="#no-more-automatic-logging" id="id70">No more automatic logging</a></li>
<li><a class="reference internal" href="#calibration-laser-map-fit" id="id71">Calibration laser map fit</a></li>
<li><a class="reference internal" href="#phase-map-fit" id="id72">Phase map fit</a></li>
<li><a class="reference internal" href="#id6" id="id73">2D viewer</a></li>
<li><a class="reference internal" href="#id7" id="id74">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v1-6-architectural-changes" id="id75">v1.6: Architectural changes</a><ul>
<li><a class="reference internal" href="#v1-6-0" id="id76">v1.6.0</a><ul>
<li><a class="reference internal" href="#architecture" id="id77">Architecture</a></li>
<li><a class="reference internal" href="#new-fit-classes" id="id78">New Fit classes</a></li>
<li><a class="reference internal" href="#compression" id="id79">Compression</a></li>
<li><a class="reference internal" href="#adaptation-to-sitelle" id="id80">Adaptation to SITELLE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-1-6-1" id="id81">v.1.6.1</a><ul>
<li><a class="reference internal" href="#zernike-modes-fit" id="id82">Zernike Modes Fit</a></li>
<li><a class="reference internal" href="#new-module-utils-io" id="id83">New module utils.IO</a></li>
<li><a class="reference internal" href="#id8" id="id84">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-1-6-2" id="id85">v.1.6.2</a><ul>
<li><a class="reference internal" href="#photometry" id="id86">Photometry</a></li>
<li><a class="reference internal" href="#quadcube" id="id87">QuadCube</a></li>
<li><a class="reference internal" href="#id9" id="id88">Miscellaneous</a></li>
<li><a class="reference internal" href="#v-1-6-3" id="id89">v.1.6.3</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v-2-data-release-1" id="id90">v.2. Data Release 1</a><ul>
<li><a class="reference internal" href="#v-2-0-dr1-beta" id="id91">v.2.0-DR1-beta</a><ul>
<li><a class="reference internal" href="#outhdfquadcube" id="id92">OutHDFQuadCube</a></li>
<li><a class="reference internal" href="#id10" id="id93">Photometry</a></li>
<li><a class="reference internal" href="#fit-module" id="id94">Fit module</a></li>
<li><a class="reference internal" href="#id11" id="id95">Compression</a></li>
<li><a class="reference internal" href="#id12" id="id96">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-2-0-1" id="id97">v.2.0.1</a><ul>
<li><a class="reference internal" href="#id13" id="id98">Fit module</a></li>
<li><a class="reference internal" href="#gaussian-apodization" id="id99">Gaussian apodization</a></li>
<li><a class="reference internal" href="#standard-proper-motion" id="id100">Standard Proper motion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-2-1-0" id="id101">v.2.1.0</a><ul>
<li><a class="reference internal" href="#id14" id="id102">Fit module</a></li>
<li><a class="reference internal" href="#id15" id="id103">Data module</a></li>
<li><a class="reference internal" href="#id16" id="id104">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-2-2-0" id="id105">v.2.2.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="v1-0-creation-of-orb">
<h2><a class="toc-backref" href="#id18">v1.0 Creation of ORB</a><a class="headerlink" href="#v1-0-creation-of-orb" title="Permalink to this headline">¶</a></h2>
<p>Major modification of ORBS architecture. All the shared content
originally in the ORBS module have been moved to ORB. This way, ORBS,
ORCS, OACS, IRIS and ORUS can share the same core module without
importing ORBS entirely each time. Conceptually ORBS, like the other
softwares, just wraps around ORB module and is not any more the
central part of the whole suite of softwares.</p>
</div>
<div class="section" id="v1-1">
<h2><a class="toc-backref" href="#id19">v1.1</a><a class="headerlink" href="#v1-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="multi-fit-of-stars">
<h3><a class="toc-backref" href="#id20">Multi fit of stars</a><a class="headerlink" href="#multi-fit-of-stars" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_stars_in_frame()</span></code> has been updated to fit
multiple stars at the same time (see:
<code class="xref py py-meth docutils literal notranslate"><span class="pre">multi_fit_stars()</span></code>). The star fit is now way more
robust.</li>
</ul>
</div>
<div class="section" id="usno-b1-based-star-detection">
<h3><a class="toc-backref" href="#id21">USNO-B1 based star detection</a><a class="headerlink" href="#usno-b1-based-star-detection" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_vizier()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> have been moved from
<code class="xref py py-class docutils literal notranslate"><span class="pre">orbs.process.Spectrum</span></code> so that the registration is part of
the Astrometry module (which makes more sense). This way it is now
possible to use a star catalogue like USNO-B1 to detect stars in the
cube. It is not a default behaviour because extended emission region
contains virtually no catalogued stars. This option can be useful for
galaxies to avoid the confision of HII regions and stars.</li>
</ul>
</div>
</div>
<div class="section" id="v1-2">
<h2><a class="toc-backref" href="#id22">v1.2</a><a class="headerlink" href="#v1-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">multi_fit_stars()</span></code> noise estimation
enhanced. The initial estimation of the shift has also been updated.</li>
<li>Minor bugs fix. This version is considered as a nearly stable
version ready for release.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">multi_fit_stars()</span></code> initial estimation enhanced (more
robust and precise)</li>
</ul>
<div class="section" id="v1-2-1">
<h3><a class="toc-backref" href="#id23">v1.2.1</a><a class="headerlink" href="#v1-2-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_spectrum()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_interferogram()</span></code> adjusted to lose no energy
in the transformation process.  They are able to treat wavenumber
transformation (useful to avoid the mutiple interpolation nescessary
to move from a regular wavenumber space to an iregular wavelength
space back and forth)’</li>
<li>new keywords in config.orb: FIELD_OF_VIEW_2, EXT_ILLUMINATION</li>
<li>doc updated</li>
<li>bug fix</li>
</ul>
</div>
<div class="section" id="v1-2-2">
<h3><a class="toc-backref" href="#id24">v1.2.2</a><a class="headerlink" href="#v1-2-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">spectrum_mean_energy()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">interf_mean_energy()</span></code> Cythonised to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">spectrum_mean_energy()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">interf_mean_energy()</span></code>.</li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionFile</span></code> enhanced to be used by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">orbs.orbs.Orbs.__init__()</span></code>.</li>
</ul>
<div class="section" id="orcs-integration">
<h4><a class="toc-backref" href="#id25">ORCS integration</a><a class="headerlink" href="#orcs-integration" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>new keywords in config.orb: OBS_LAT, OBS_LON, OBS_ALT for ORCS.</li>
<li>new general keyword in OptionFile: INCLUDE, used to include the
parameters of another option file.</li>
<li>Warning messages are not displayed anymore when using the silent
option with <code class="xref py py-class docutils literal notranslate"><span class="pre">Tools</span></code></li>
<li>move <code class="xref py py-meth docutils literal notranslate"><span class="pre">orbs.orbs.Orbs._create_list_from_dir()</span></code> to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_create_list_from_dir()</span></code> to make this useful
method accessible to ORCS.</li>
<li>doc updated</li>
</ul>
</div>
<div class="section" id="orb-s-scripts">
<h4><a class="toc-backref" href="#id26">ORB’s scripts</a><a class="headerlink" href="#orb-s-scripts" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>move ORB’s scripts (dstack, combine, rollxz, rollyz, reduce) from
orbs/scripts to orb/scripts so that only ORBS specific scripts are
in orbs/scripts.</li>
<li>create <strong>unstack</strong> script to unstack a cube into a set of frames</li>
</ul>
</div>
</div>
<div class="section" id="v1-2-3">
<h3><a class="toc-backref" href="#id27">v1.2.3</a><a class="headerlink" href="#v1-2-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>add <code class="xref py py-meth docutils literal notranslate"><span class="pre">flambda2ABmag()</span></code></li>
<li>change file globals.py for constants.py</li>
<li>add <code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_basic_spectrum_header()</span></code> to return a
header for a 1D spectrum.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">write_fits()</span></code> updated to create ds9 readable 1D
FITS files.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_lines_in_vector()</span></code> accepts a tuple for the
parameter cov_pos. This tuple gives the lines that are
covarying. This way, [NII] and Halpha can have different velocities,
but the [NII] lines will share the same velocity, improving a lot
the precision on their estimated velocity without being biased by
the Halpha velocity.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_map()</span></code> created. This function is a generalization
of the old <code class="xref py py-meth docutils literal notranslate"><span class="pre">orbs.process.Phase.fit_phase_map()</span></code> which now use
this general function also. The fitting process has been enhanced
and is now more robust and use NaNs instead of zeros.</li>
</ul>
</div>
<div class="section" id="v1-2-4">
<h3><a class="toc-backref" href="#id28">v1.2.4</a><a class="headerlink" href="#v1-2-4" title="Permalink to this headline">¶</a></h3>
<div class="section" id="miscellaneous">
<h4><a class="toc-backref" href="#id29">Miscellaneous</a><a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>all scripts have been renamed to orb-*</li>
<li>–nostar and –flat bug fixed. Cosmic ray detection will not be done
if those options are given.</li>
</ul>
</div>
<div class="section" id="sitelle-data">
<h4><a class="toc-backref" href="#id30">SITELLE data</a><a class="headerlink" href="#sitelle-data" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">new command: <strong>orb-conf</strong>. Its general purpose is to help the
administrator to quickly change ORB configuration. Its first use is
to change the configuration file depending on the used
instrument. To change the configration file from spiomm to sitelle
just type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">orb</span><span class="o">-</span><span class="n">conf</span> <span class="o">-</span><span class="n">i</span> <span class="n">sitelle</span>
</pre></div>
</div>
<p>This command avoid the painful manual change of the config file. At
each new version this command can be run to quickly (and safely)
reconfigure ORB. Note that this function requires write rights on
the ORB installation folder.</p>
</li>
</ul>
<div class="section" id="sitelle-image-mode">
<h5><a class="toc-backref" href="#id31">Sitelle image mode</a><a class="headerlink" href="#sitelle-image-mode" title="Permalink to this headline">¶</a></h5>
<ul>
<li><p class="first">if ORBS is in <strong>sitelle mode</strong> (if the configuration file points to
config.sitelle.orb), SITELLE’s data frames are handled at the core
level. <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_fits()</span></code> accepts two new options:
image_mode and chip_index. If image_mode is set to ‘sitelle’ and the
chip index is 1 or 2, then the read_fits function will return only
of the 2 chips (depending on the chip index). <strong>Chip slicing</strong> is
handled by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_read_sitelle_chip()</span></code>. <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>
has also been modified in the same way with the same new options. A
parameter line can now be added to the very first line of the image
list passed to the <code class="xref py py-class docutils literal notranslate"><span class="pre">Cube</span></code>. This line must be
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sitelle 1</span>
</pre></div>
</div>
<p>If the first keyword is sitelle, the second keyword is understood as
the chip index to read. This way, <code class="xref py py-class docutils literal notranslate"><span class="pre">Cube</span></code> understand
that the data is SITELLE’s data and what chip has to be read.</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_create_list_from_dir()</span></code> now accepts the options
image_mode and chip_index and creates the parameter line at the very
beginning of the output file list.</p>
</li>
<li><p class="first"><strong>overscan</strong> <code class="xref py py-meth docutils literal notranslate"><span class="pre">_read_sitelle_chip()</span></code> automatically
substract the bias level given by the overscan areas of the returned
image. This default behaviour can be canceled in the future.</p>
</li>
</ul>
</div>
<div class="section" id="prebinning">
<h5><a class="toc-backref" href="#id32">Prebinning</a><a class="headerlink" href="#prebinning" title="Permalink to this headline">¶</a></h5>
<p>Used for faster computation of big data set. It
can also be useful if the user simply wants binned data. At the user
level only one option must be passed to the option file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PREBINNING</span> <span class="mi">2</span> <span class="c1"># Data is prebinned by 2</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The real binning of the original data must be kept to the
same values. The user must no modify the the values of BINCAM1 and
BINCAM2.</p>
</div>
<ul>
<li><p class="first">if this option is set <code class="xref py py-meth docutils literal notranslate"><span class="pre">_create_list_from_dir()</span></code>
just adds the following directive at the beginning of the image list
file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># prebinning 2</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_fits()</span></code> accepts the option
‘binning’. <code class="xref py py-meth docutils literal notranslate"><span class="pre">_image_binning()</span></code> has been created to
bin 2D data efficiently. <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code> has been
modified to read and treat transparently the new prebinning
directive that is added at the beginning of an image list file.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="v1-2-4-1">
<h3><a class="toc-backref" href="#id33">v1.2.4.1</a><a class="headerlink" href="#v1-2-4-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Enhanced frame
registration. <code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> now takes
full advantage of the multi fit of stars and filters the best stars
by SNR. A double fit is also done at the beginning to ensure that
the positions pattern is the best possible.</li>
<li>bug fix, minimum number of good fitted pixels in a column for a
phase fit lowered to 1/3 of the column length instead of 1/2.</li>
</ul>
</div>
<div class="section" id="v1-2-4-2">
<h3><a class="toc-backref" href="#id34">v1.2.4.2</a><a class="headerlink" href="#v1-2-4-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="astropy">
<h4><a class="toc-backref" href="#id35">Astropy</a><a class="headerlink" href="#astropy" title="Permalink to this headline">¶</a></h4>
<p>Astropy (<a class="reference external" href="http://www.astropy.org/">http://www.astropy.org/</a>) is definitly needed, pyfits and
pywcs standalone modules are not needed anymore by ORBS (but they
still can be used by other modules ;) even modules imported by ORBS so
becarefull before removing them)</p>
<ul class="simple">
<li>PYFITS: now imported from astropy.io.fits</li>
<li>PYWCS: now imported from astropy.wcs</li>
</ul>
</div>
<div class="section" id="better-star-fit">
<h4><a class="toc-backref" href="#id36">Better Star fit</a><a class="headerlink" href="#better-star-fit" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">multi_fit_stars()</span></code>: tilted background added to the model</li>
<li>detected stars are selected not too far from the center of the
frame</li>
<li>star box coeff set to 10 instead of 7 to get a better sky statistic
around stars.</li>
</ul>
</div>
<div class="section" id="spiomm-bias-overscan-for-camera-2">
<h4><a class="toc-backref" href="#id37">SpIOMM bias overscan for camera 2</a><a class="headerlink" href="#spiomm-bias-overscan-for-camera-2" title="Permalink to this headline">¶</a></h4>
<p>When it exists, the bias overscan created with each frame of the
camera 2 is used to remove automatically the bias. Note that in this
case <strong>the path to the bias frames must not be given to ORBS</strong> because
ORBS will try to create a master bias and remove it at step 3. In
fact, the mean of the master bias will be near 0 because the overscan
is removed from the bias frames also. The impact of giving the path to
the bias frame is thus not dramatic. But it is better not to give it.</p>
</div>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id38">Miscellaneous</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> optimization routine is
based on a least square fit instead of a powell algorithm.</li>
<li>transfered <code class="xref py py-meth docutils literal notranslate"><span class="pre">part_value()</span></code> from OACS cutils.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_alignment_vectors()</span></code> simplified
because the multi fit mode is now robust enough to remove all which
was written for the preceding individual fit mode.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">indft()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">indft()</span></code> added to compute
Inverse Non-uniform Discret Fourier Transform (INDFT). New option
<strong>sampling_vector</strong> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_spectrum()</span></code> to give
the possibility to compute an INDFT by giving a non-uniform sampling
vector.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="v1-3-start-of-cfht-integration">
<h2><a class="toc-backref" href="#id39">v1.3 Start of CFHT integration</a><a class="headerlink" href="#v1-3-start-of-cfht-integration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="v1-3-0-orb-viewer">
<h3><a class="toc-backref" href="#id40">v1.3.0 ORB-Viewer</a><a class="headerlink" href="#v1-3-0-orb-viewer" title="Permalink to this headline">¶</a></h3>
<p>A viewer based on Ginga (<a class="reference external" href="https://github.com/ejeschke/ginga">https://github.com/ejeschke/ginga</a>) has been
added to ORB (scripts/<strong>orb-viewer</strong>). It can be used to analyse
reduced data cube (spectral cube) or raw interferometric cubes. Basic
functionalities (fft, spectrum fit, image operations …)  have been
implemented.</p>
</div>
<div class="section" id="v1-3-1">
<h3><a class="toc-backref" href="#id41">v1.3.1</a><a class="headerlink" href="#v1-3-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="orb-header">
<h4><a class="toc-backref" href="#id42">orb-header</a><a class="headerlink" href="#orb-header" title="Permalink to this headline">¶</a></h4>
<p>script <strong>orb-header</strong> added to display and manipulate headers of FITS
files.</p>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id43">Miscellaneous</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>All classes which inherit from <code class="xref py py-class docutils literal notranslate"><span class="pre">Tools</span></code> can be passed
all Tools arguments even if the __init__ method has been
reimplemented (a new cofiguration file path can thus be defined
easily)</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> enhanced to compute scale
only at the center of the frame. This function can now be used to
compute the optical distorsion pattern of an image.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_star()</span></code>: ‘saturation’ option added to avoid
saturated pixels during a the fit of a star. Allows for saturated
star reconstruction of the real flux.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_line_fwhm()</span></code>,
py:meth:<cite>~utils.compute_line_shift</cite>
py:meth:<cite>~utils.compute_radial_velocity</cite> transfered from ORCS to
ORB.</li>
<li>script <strong>orb-dstack</strong> can be given a directory instead of a file
list. It is now able to filter SITELLE files to get only the
‘object’, ‘dark’ or ‘flat’ type files.</li>
</ul>
</div>
</div>
<div class="section" id="v1-3-2">
<h3><a class="toc-backref" href="#id44">v1.3.2</a><a class="headerlink" href="#v1-3-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">_read_sitelle_chip()</span></code> : bias is now computed on
half of the overscan part, because the pixel on the very border of
the overscan have a bad value.</li>
<li>order 0: all functions in <code class="xref py py-mod docutils literal notranslate"><span class="pre">utils</span></code> which need the order
parameter have been modified to accept order 0 only when possible
(e.g. <code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_interferogram()</span></code> cannot give an
output in nm at order 0). If the order 0 is not possible, those
functions raise an Exception.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_me()</span></code> added to map the modulation efficiency on
a laser frame.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">aperture_photometry()</span></code> has been made more robust
to NaNs</li>
<li>config files updated for SpIOMM and SITELLE.</li>
</ul>
<div class="section" id="scripts">
<h4><a class="toc-backref" href="#id45">scripts</a><a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>orb-aligner</strong>: graphical inteface created to help in
manually align images if needed.</li>
<li><strong>orb-bin</strong>: script made to bin images.</li>
<li><strong>orb-header</strong> changed a lot to manage list of files and output list
of keyword values.</li>
<li><strong>orb-viewer</strong> updated to manage SITELLE’s files better</li>
</ul>
</div>
</div>
<div class="section" id="v1-3-3">
<h3><a class="toc-backref" href="#id46">v1.3.3</a><a class="headerlink" href="#v1-3-3" title="Permalink to this headline">¶</a></h3>
<div class="section" id="alignement">
<h4><a class="toc-backref" href="#id47">Alignement</a><a class="headerlink" href="#alignement" title="Permalink to this headline">¶</a></h4>
<p>The alignment procedure has been completely changed and is now more
than ten times faster. Two steps only are required: One brute force
step (<code class="xref py py-meth docutils literal notranslate"><span class="pre">astrometry.Astrometry.brute_force()</span></code>) based on fast
photometry and a fine fit step to get all alignment parameters.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">astrometry.Aligner</span></code> has been created which manage the
alignment procedure.</p>
</div>
<div class="section" id="sip-distorsion">
<h4><a class="toc-backref" href="#id48">SIP/Distorsion</a><a class="headerlink" href="#sip-distorsion" title="Permalink to this headline">¶</a></h4>
<p>Computation of the SIP (Simple Imaging Polynomial) distorsion
correction has been implemented in
<code class="xref py py-meth docutils literal notranslate"><span class="pre">astrometry.Astrometry.register()</span></code>. All the geometrical
transformation functions in <code class="xref py py-mod docutils literal notranslate"><span class="pre">utils</span></code> and the multi star
fitting procedure <code class="xref py py-meth docutils literal notranslate"><span class="pre">astrometry.fit_stars_in_frame()</span></code> have been
updated.</p>
</div>
<div class="section" id="hdf5">
<h4><a class="toc-backref" href="#id49">HDF5</a><a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">astrometry.StarsParams</span></code> saves its data in HDF5 format to
provide an easier and more robust way of accessing and viewing the
parameters. The module h5py is now required to use ORB.</p>
</div>
</div>
<div class="section" id="v1-3-4-0">
<h3><a class="toc-backref" href="#id50">v1.3.4.0</a><a class="headerlink" href="#v1-3-4-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="binning-detection">
<h4><a class="toc-backref" href="#id51">Binning detection</a><a class="headerlink" href="#binning-detection" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>keywords <strong>CAM1_DETECTOR_SIZE_X</strong>, <strong>CAM1_DETECTOR_SIZE_Y</strong>,
<strong>CAM2_DETECTOR_SIZE_X</strong>, <strong>CAM2_DETECTOR_SIZE_Y</strong> added to the
configuration file to help automatic detection of the image
binning.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_binning()</span></code> added to compute image binning.</li>
</ul>
</div>
</div>
<div class="section" id="v1-3-4-1">
<h3><a class="toc-backref" href="#id52">v1.3.4.1</a><a class="headerlink" href="#v1-3-4-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="doc-update">
<h4><a class="toc-backref" href="#id53">Doc update</a><a class="headerlink" href="#doc-update" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id3">
<h4><a class="toc-backref" href="#id54">Miscellaneous</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize_phase()</span></code> added to optimize a linear phase
vector based on the minimization of the imaginary part. Can be used
to get the phase of a laser spectrum (with no continuum emission).</li>
</ul>
</div>
</div>
</div>
<div class="section" id="v1-4-the-hdf5-miracle">
<h2><a class="toc-backref" href="#id55">v1.4 The HDF5 miracle</a><a class="headerlink" href="#v1-4-the-hdf5-miracle" title="Permalink to this headline">¶</a></h2>
<p>All ORBS internal cubes used for computation have been passed to an
HDF5 format which makes data loading incredibly faster. If those
changes have small effects on small data cubes like SpIOMM data, it
changes a lot the computation time on SITELLE’s data cubes (passing
from ~10 hours to 6.5 hours on a 16 procs machine).</p>
<p>The HDF5 format is also very useful to display large data cubes with
<strong>orb-viewer</strong> without loading the full cube in memory.</p>
<div class="section" id="v1-4-0">
<h3><a class="toc-backref" href="#id56">v1.4.0</a><a class="headerlink" href="#v1-4-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">HDFCube</span></code> created. It inherits of
<code class="xref py py-class docutils literal notranslate"><span class="pre">Cube</span></code> but it is built over an HDF5 cube. An HDF5
cube is similar to a frame-divided cube but all the frames are
merged in one HDF5 file. Only some specific methods (especially the
__getitem__ special method) had to be rewritten.</li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">OutHDFCube</span></code> created. The classes
<code class="xref py py-class docutils literal notranslate"><span class="pre">HDFCube</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Cube</span></code> have been built
to read data but not to write it.  <code class="xref py py-class docutils literal notranslate"><span class="pre">OutHDFCube</span></code> has
been designed to write an HDF5 cube containing the transformed data.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">export()</span></code> modified to export any cube (e.g. a
frame divided FITS cube) in HDF5 format.</li>
<li>script <strong>orb-dstack</strong> can also export a cube in hdf5 format.</li>
</ul>
<div class="section" id="visual-module">
<h4><a class="toc-backref" href="#id57">Visual module</a><a class="headerlink" href="#visual-module" title="Permalink to this headline">¶</a></h4>
<p>New module created <code class="xref py py-mod docutils literal notranslate"><span class="pre">orb.visual</span></code> aimed to contain basic visual
classes to construct viewer in other ORB softwares like ORBS, IRIS,
ORCS…</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">orb.visual.BaseViewer</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">orb.visual.PopupWindow</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">orb.visual.HeaderWindow</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">orb.visual.ZPlotWindow</span></code>
created to display FITS/HDF5 cubes.</li>
</ul>
</div>
<div class="section" id="orb-viewer">
<h4><a class="toc-backref" href="#id58">Orb-viewer</a><a class="headerlink" href="#orb-viewer" title="Permalink to this headline">¶</a></h4>
<p>The basic viewer <strong>orb-viewer</strong> has been completly rewritten. It has
less functionnality than the previous one, but it is nearly bug-free
and much better coded. Its frame will serve as a basic frame for more
specialized viewer (e.g. <strong>iris-viewer</strong> of IRIS and other to come for
ORCS).</p>
</div>
<div class="section" id="data-module">
<h4><a class="toc-backref" href="#id59">Data module</a><a class="headerlink" href="#data-module" title="Permalink to this headline">¶</a></h4>
<p>Module <code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code> used to propagate uncertainty when doing
operations on 1D or 2D data. Useful for IRIS and OACS.</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">Data1D</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Data2D</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code> and some convenience functions created.</li>
</ul>
</div>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id60">Miscellaneous</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.astrometry.StarsParams.load_stars_parameters()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.astrometry.StarsParams.save_stars_parameters()</span></code> changed to
output the parameters in HDF5 format. saving and loading is much
more efficient.</p>
</div>
</div>
</div>
<div class="section" id="v1-5-handing-sitelle-s-real-data-cubes">
<h2><a class="toc-backref" href="#id61">v1.5: Handing SITELLE’s real data cubes</a><a class="headerlink" href="#v1-5-handing-sitelle-s-real-data-cubes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="v1-5-0">
<h3><a class="toc-backref" href="#id62">v1.5.0</a><a class="headerlink" href="#v1-5-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="phase-correction">
<h4><a class="toc-backref" href="#id63">Phase correction</a><a class="headerlink" href="#phase-correction" title="Permalink to this headline">¶</a></h4>
<p>SITELLE’s phase map is nearly ideal so that a <strong>better kind of phase
correction is possible</strong>. Now, the ‘order 0 phase map’ depends only on
the OPD path i.e. the incident angle of the light (if we consider that
the surfaces ot the interferometer’s optics are perfect, which seems
to be a good enough assumption up to now). The order 0 phase map can
thus be modeled directly from the calibration laser map which gives
the incident angle at each pixels. As the calibration laser map can be
tilted (2 angles along X and Y axes) and rotated around its center,
the model must take into account all those 3 parameters.</p>
<p>There are at least two major <strong>advantages</strong>:</p>
<blockquote>
<div><ul class="simple">
<li>We have an <strong>understood model</strong> with physical parameters to fit
the phase map (and the fitting approximation is really great,
giving a gaussian shaped error distribution with no apparent bias
or skewness).</li>
<li><strong>We get the real calibration laser map</strong> which corresponds to the
scientific cube and not a calibration laser map taken in different
conditions (gravity vector, temperature and so on).</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">tilt_calibration_laser_map()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_sitelle_phase_map()</span></code> created to fit a sitelle’s phase map.</li>
</ul>
</div>
<div class="section" id="point-source-detection">
<h4><a class="toc-backref" href="#id64">Point source detection</a><a class="headerlink" href="#point-source-detection" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">detect_all_sources()</span></code> detects all
point sources in a cube (HII regions, distant galaxies, stars and
filamentary knots can be detected). This method is used to shield the
point sources during the cosmic ray detection and will be certainly
useful for automatic point source extraction.</p>
</div>
<div class="section" id="d-viewer">
<h4><a class="toc-backref" href="#id65">3D Viewer</a><a class="headerlink" href="#d-viewer" title="Permalink to this headline">¶</a></h4>
<p>A 3D viewer has been created (<strong>orb-viewer3d</strong>) based on vispy library
(<a class="reference external" href="http://vispy.org">http://vispy.org</a>) which is an easy to use OpenGL API. It is still at
a development level but it works well enough to travel into spectral cubes and  make beautiful 3D videos.</p>
</div>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id66">Miscellaneous</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_interferogram()</span></code> does not make any use of the
old low resolution phase computation
(<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lr_phase()</span></code>). The phase can be directly obtained
at the output and the internally computed phase used for auto-phasing
is also obtained with this function. A low resolution phase is no more
useful as it does not give a better precisin on the fit. A full
length phase vector is now computed every time the phase is needed.</p>
</div>
</div>
<div class="section" id="v1-5-1">
<h3><a class="toc-backref" href="#id67">v1.5.1</a><a class="headerlink" href="#v1-5-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="hdf5-final-output-format">
<h4><a class="toc-backref" href="#id68">HDF5 Final output format</a><a class="headerlink" href="#hdf5-final-output-format" title="Permalink to this headline">¶</a></h4>
<p>The final output format is now an HDF5 cube. A FITS cube can then be
obtained by using the script <strong>orb-extract</strong>. The HDF5 cube can be
handled directly by ORCS.</p>
</div>
<div class="section" id="complex-data-cubes">
<h4><a class="toc-backref" href="#id69">Complex data cubes</a><a class="headerlink" href="#complex-data-cubes" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">HDFCube</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">OutHDFCube</span></code> now handles
complex data sets. If a complex data cube is opened returned data will
be complex. The user of the class must make sure that the complex data
is not hardly cast to float (a warning is raised in this case).</p>
<p>The full complex spectral cube is generated whichs helps in checking
that the energy contained in the imaginary part is a small percentage
of the energy contained in the real part, giving the possibility to
check if the phase correction is correct. This check is made during
the calibration step.</p>
</div>
<div class="section" id="no-more-automatic-logging">
<h4><a class="toc-backref" href="#id70">No more automatic logging</a><a class="headerlink" href="#no-more-automatic-logging" title="Permalink to this headline">¶</a></h4>
<p>Automatic logging originally handled by <code class="xref py py-class docutils literal notranslate"><span class="pre">Tools</span></code> is now
handled by <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> which must be initialised by the
main script. No more logfile name has to be passed to
<code class="xref py py-class docutils literal notranslate"><span class="pre">Tools</span></code> or its subclasses.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tools</span></code> which was used to ensure the use of the same
logfile for all the launched processes has also been suppressed.</p>
</div>
<div class="section" id="calibration-laser-map-fit">
<h4><a class="toc-backref" href="#id71">Calibration laser map fit</a><a class="headerlink" href="#calibration-laser-map-fit" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_calibration_laser_map()</span></code>: The residual of the
modelized fit of the calibration laser map is now fitted with a 2D
polynomial. The precision is of the order of 10 m/s which gives enough
precision to remove the fitting error on small calibration laser
cubes. This error could be seen as small fringes on high precision
velocity maps. It is thus better to fit the obtained calibration laser
map when it is used to calibrate a cube. The script
<strong>orbs-fit-calibration-laser-map</strong> hase been created for that.</p>
</div>
<div class="section" id="phase-map-fit">
<h4><a class="toc-backref" href="#id72">Phase map fit</a><a class="headerlink" href="#phase-map-fit" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">simulate_calibration_laser_map()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_calibration_laser_map()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_sitelle_phase_map()</span></code> have been updated to deliver
a much more precise fit. But you must note that the calibration laser
map delivered during the fitting procedure is still not good enough
for using as a real calibration laser map. this comes from the
residual which must be taken into account. This might come in the
future (see above).</p>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id73">2D viewer</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>2D Viewer has been updated to handle colormaps. Different shapes
(circle and square) and different combining methods (mean, median,
sum) of the regions are possible. A fitting module process has been
added to the spectrum window. Some bugs have also been corrected.</p>
</div>
<div class="section" id="id7">
<h4><a class="toc-backref" href="#id74">Miscellaneous</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">aperture_photometry()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">fit_stars_in_frame()</span></code> can now return
photometrical data without background sustraction. This is used in
source extraction (less noisy for faint sources).</li>
<li>The implementation of <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_quadrant_dims()</span></code> has
been moved to <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_quadrant_dims()</span></code>.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">nanbin_image()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">unbin_image()</span></code> created to bin and unbin images
during phase maps fitting. It permits to accelerate the process a
lot without losing precision.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_line_fwhm()</span></code> now computes the line fwhm
from the number of steps on the longest side of the interferogram
(before this was computed from the total number of steps of a
symmetric interferogram, so generally two times more steps than in
this version).</li>
</ul>
</div>
</div>
</div>
<div class="section" id="v1-6-architectural-changes">
<h2><a class="toc-backref" href="#id75">v1.6: Architectural changes</a><a class="headerlink" href="#v1-6-architectural-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="v1-6-0">
<h3><a class="toc-backref" href="#id76">v1.6.0</a><a class="headerlink" href="#v1-6-0" title="Permalink to this headline">¶</a></h3>
<p>A lot of changes have been made. Only the most important are summarized.</p>
<div class="section" id="architecture">
<h4><a class="toc-backref" href="#id77">Architecture</a><a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h4>
<p>The old orb/utils.py has been transformed into a real module. utils
function have been ordered by type: astrometry, fft, spectrum, vector,
image, stats, parallel, web …</p>
<p>A Gaussian convoluted with a Sinc line can now be fitted using a
function created by Simon Prunet, see: <code class="xref py py-meth docutils literal notranslate"><span class="pre">sincgauss1d()</span></code></p>
</div>
<div class="section" id="new-fit-classes">
<h4><a class="toc-backref" href="#id78">New Fit classes</a><a class="headerlink" href="#new-fit-classes" title="Permalink to this headline">¶</a></h4>
<p>The whole fit concept has been enhanced. A fitting module has been
created (<code class="xref py py-mod docutils literal notranslate"><span class="pre">fit</span></code>). It is now governed by a Fit class
(<code class="xref py py-class docutils literal notranslate"><span class="pre">fit.FitVector</span></code>) which can aggregates models based on a
Template class (<code class="xref py py-class docutils literal notranslate"><span class="pre">fit.Model</span></code>).</p>
</div>
<div class="section" id="compression">
<h4><a class="toc-backref" href="#id79">Compression</a><a class="headerlink" href="#compression" title="Permalink to this headline">¶</a></h4>
<p>A small compression of the HDF5 files is now automaticcaly done. It
slows the process but makes the siez of the reduction file on disk
much smaller.</p>
</div>
<div class="section" id="adaptation-to-sitelle">
<h4><a class="toc-backref" href="#id80">Adaptation to SITELLE</a><a class="headerlink" href="#adaptation-to-sitelle" title="Permalink to this headline">¶</a></h4>
<p><strong>Phase correction</strong> and <strong>cosmic-ray detection</strong> have been reworked. Cosmic
ray detection now uses both cubes and is much more robust than before.</p>
</div>
</div>
<div class="section" id="v-1-6-1">
<h3><a class="toc-backref" href="#id81">v.1.6.1</a><a class="headerlink" href="#v-1-6-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="zernike-modes-fit">
<h4><a class="toc-backref" href="#id82">Zernike Modes Fit</a><a class="headerlink" href="#zernike-modes-fit" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>External module <a class="reference internal" href="orb.ext.html#module-orb.ext.zern" title="orb.ext.zern"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orb.ext.zern</span></code></a> added to fit Zernike
modes. This module has been created by Tim van Werkhoven
(<a class="reference external" href="mailto:werkhoven&#37;&#52;&#48;strw&#46;leidenuniv&#46;nl">werkhoven<span>&#64;</span>strw<span>&#46;</span>leidenuniv<span>&#46;</span>nl</a>).</li>
</ul>
</div>
<div class="section" id="new-module-utils-io">
<h4><a class="toc-backref" href="#id83">New module utils.IO</a><a class="headerlink" href="#new-module-utils-io" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>module <a class="reference internal" href="orb.utils.html#module-orb.utils.io" title="orb.utils.io"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orb.utils.io</span></code></a> created to put input/output functions
related to write/read FITS and HDF5 single files.</li>
</ul>
</div>
<div class="section" id="id8">
<h4><a class="toc-backref" href="#id84">Miscellaneous</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">brute_force_guess()</span></code> Brute force
guess extended to cover a wider region by default. Initial guess on
dx and dy can be very rough. All alignement are successful on
SITELLE with the same set of parameters even with major optics
change.</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_nm_axis_step()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_nm_axis_max()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_nm_axis_min()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cm1_axis_step()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cm1_axis_max()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cm1_axis_min()</span></code>, changed to take into account the
fact that the spectral axis created from
<a class="reference internal" href="orb.utils.html#orb.utils.fft.transform_interferogram" title="orb.utils.fft.transform_interferogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.utils.fft.transform_interferogram()</span></code></a> has 1 sample less than
expected to keep the same number of sample at the input and the
output.</li>
<li><code class="xref py py-mod docutils literal notranslate"><span class="pre">orb.viewer</span></code> updated for the last matplotlib version (1.5.1).</li>
</ul>
</div>
</div>
<div class="section" id="v-1-6-2">
<h3><a class="toc-backref" href="#id85">v.1.6.2</a><a class="headerlink" href="#v-1-6-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="photometry">
<h4><a class="toc-backref" href="#id86">Photometry</a><a class="headerlink" href="#photometry" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Standard class moved from orbs/process.py to core.py.</li>
<li>new utils/photometry.py</li>
</ul>
</div>
<div class="section" id="quadcube">
<h4><a class="toc-backref" href="#id87">QuadCube</a><a class="headerlink" href="#quadcube" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>New major upgrade working.</li>
</ul>
</div>
<div class="section" id="id9">
<h4><a class="toc-backref" href="#id88">Miscellaneous</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>brute_force_guess made more robust (frame is cleaned from all other
things than detected stars to remove bad brilliant object
–e.g. saturated stars–)</li>
<li>brute_force_guess made faster by moving the core functions to
cutils.py</li>
</ul>
</div>
<div class="section" id="v-1-6-3">
<h4><a class="toc-backref" href="#id89">v.1.6.3</a><a class="headerlink" href="#v-1-6-3" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>star photometry is now computed on the axis at the center of the
frame instead of the axis at 0 degrees (interferometer axis). This
way the filter and standrd curve are well centered instead of beeing
moved too much to the left and cut (which was resulting in an
underestimation of a few percent on the std star theoretical flux).</li>
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> : registration is now
only made by photometry optimization (brute force) and does not rely
on fit because the distorsion are too big to give correct fit
results. If it can be less precise (a precision better than 1 pixel
is impossible by definition) it is much more robust. Note that after
all distorsion are bigger than 3 to 4 pixels.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="v-2-data-release-1">
<h2><a class="toc-backref" href="#id90">v.2. Data Release 1</a><a class="headerlink" href="#v-2-data-release-1" title="Permalink to this headline">¶</a></h2>
<p>This is a major version corresponding to the first Data Release of
SITELLE made in March 2016.</p>
<div class="section" id="v-2-0-dr1-beta">
<h3><a class="toc-backref" href="#id91">v.2.0-DR1-beta</a><a class="headerlink" href="#v-2-0-dr1-beta" title="Permalink to this headline">¶</a></h3>
<div class="section" id="outhdfquadcube">
<h4><a class="toc-backref" href="#id92">OutHDFQuadCube</a><a class="headerlink" href="#outhdfquadcube" title="Permalink to this headline">¶</a></h4>
<p>Quad divided HDF cube. Much much faster when dealing with quads or
spectra. This is now the default HDF5 cube for the final output and
all the spectrum related processes like spectrum computation and
calibration.</p>
</div>
<div class="section" id="id10">
<h4><a class="toc-backref" href="#id93">Photometry</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Standard class moved from ORBS to ORB. This class manage standard
related files and compute a estimated flux in a frame.</li>
<li>A lot has been developped to compute a precise estimation of the
number of counts. All the functions related to photometry have been
stored in utils/photometry.py.</li>
</ul>
</div>
<div class="section" id="fit-module">
<h4><a class="toc-backref" href="#id94">Fit module</a><a class="headerlink" href="#fit-module" title="Permalink to this headline">¶</a></h4>
<p>The fit module is now stable and robust. Models can be easily created
and aggregated to a global model. Model for continuum, emission lines
and filter have been designed.</p>
</div>
<div class="section" id="id11">
<h4><a class="toc-backref" href="#id95">Compression</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>Compression has been removed. Even a small compression slows down the
process too much.It could be used for archiving though.</p>
</div>
<div class="section" id="id12">
<h4><a class="toc-backref" href="#id96">Miscellaneous</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>smoothing_deg option in
<a class="reference internal" href="orb.utils.html#orb.utils.fft.transform_interferogram" title="orb.utils.fft.transform_interferogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.utils.fft.transform_interferogram()</span></code></a> has 1 sample less
than replaced by a more robust smoothing_coeff option. The smoohting
degree is now defined as smoothing_coeff * interferogram_size. In a
general way the smoothing degree (the number of samples smoothed at
a transition between a part of zeros and a part of signal in the
interferogram) is now bigger because -25/+100 interferogram present
a very sharp transition on the left side which is very near ZPD and
create large wiggles in the spectra. A higher smoothing degree is the solution.</li>
</ul>
</div>
</div>
<div class="section" id="v-2-0-1">
<h3><a class="toc-backref" href="#id97">v.2.0.1</a><a class="headerlink" href="#v-2-0-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id13">
<h4><a class="toc-backref" href="#id98">Fit module</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="xref py py-meth docutils literal notranslate"><span class="pre">sincgauss1d()</span></code>: sigma minimum limit set at
1e-5. Below this value a pure sinc is returned.</li>
<li>small bug correction</li>
</ul>
</div>
<div class="section" id="gaussian-apodization">
<h4><a class="toc-backref" href="#id99">Gaussian apodization</a><a class="headerlink" href="#gaussian-apodization" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>A new set of Gaussian window function can be used
(<code class="xref py py-meth docutils literal notranslate"><span class="pre">̀orb.utils.fft.gaussian_window()</span></code>). Norton-Beer apodization
functions are nto be used anymore.</li>
</ul>
</div>
<div class="section" id="standard-proper-motion">
<h4><a class="toc-backref" href="#id100">Standard Proper motion</a><a class="headerlink" href="#standard-proper-motion" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Standard table has been update with Oke (1990) standard list. see
<a class="reference external" href="http://www.eso.org/sci/observing/tools/standards/spectra/okestandards.html">http://www.eso.org/sci/observing/tools/standards/spectra/okestandards.html</a></li>
<li>proper motion can be extracted from standard table
(‘data/std_table.orb’) and the real radec at a given moment can be
computed (see <code class="xref py py-meth docutils literal notranslate"><span class="pre">̀orb.utils.astrometry.compute_radec_pm()</span></code>)</li>
</ul>
</div>
</div>
<div class="section" id="v-2-1-0">
<h3><a class="toc-backref" href="#id101">v.2.1.0</a><a class="headerlink" href="#v-2-1-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id14">
<h4><a class="toc-backref" href="#id102">Fit module</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>core fit function <code class="xref py py-meth docutils literal notranslate"><span class="pre">scipy.optimize.leastsq()</span></code> replaced by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">scipy.optimize.curve_fit()</span></code> which computes the covariance
matrix itself. Returned uncertainties on the fitted parameters are
now much better calculated. The estimation has been tested against a
real measurement (through simulations with random noise) and shows a
perfect accordance over multiple decades of noise from a SNR of 1000
down to a SNR of 10. The fitting algorithm is still a
Levenberg-Marquardt.</li>
<li>MCMC: Markov chain Monte-Carlo algorithm can be used to compute
uncertainty on the fit parameters. This function has not been
extensively tested and does not seem to provide much better
estimation for a decent computing time (only 10 or 20 times longer
than fit alone). Can be used to check posterior probability
distribution on the fit parameters.</li>
<li>Fit is automatically tried again with a slight random change of the
initial parameters if the convergence is too fast and no error
estimation can be found via L-M algorithm. After a certain number of
retries error is estimated via MCMC.</li>
<li>flux is now computed with analytic error propagation for sinc,
gaussian and sincgauss (see <code class="xref py py-class docutils literal notranslate"><span class="pre">orb.data</span></code> and
<a class="reference internal" href="orb.utils.html#orb.utils.spectrum.sincgauss1d_flux" title="orb.utils.spectrum.sincgauss1d_flux"><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.utils.spectrum.sincgauss1d_flux()</span></code></a>)</li>
</ul>
</div>
<div class="section" id="id15">
<h4><a class="toc-backref" href="#id103">Data module</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">orb.data.Data1D</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">orb.data.Data2D</span></code> removed
and replaced by only one general class
<code class="xref py py-class docutils literal notranslate"><span class="pre">orb.data.Data</span></code>. Dawson and Erf functions added along with
complex data managing.</p>
</div>
<div class="section" id="id16">
<h4><a class="toc-backref" href="#id104">Miscellaneous</a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>ds9 region file loading function now uses pyregion packages</li>
<li><a class="reference internal" href="orb.html#orb.core.Header" title="orb.core.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">orb.core.Header</span></code></a> class added as an extension of
<code class="xref py py-class docutils literal notranslate"><span class="pre">astropy.wcs.Header</span></code> to manage Headers. It is just an
initial framework.</li>
<li>scipy.optimize.curve_fit call in fit.py updated to follow the
changes in the new version of scipy (0.18.0).</li>
</ul>
</div>
</div>
<div class="section" id="v-2-2-0">
<h3><a class="toc-backref" href="#id105">v.2.2.0</a><a class="headerlink" href="#v-2-2-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="orb.utils.html#orb.utils.fft.transform_interferogram" title="orb.utils.fft.transform_interferogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.utils.fft.transform_interferogram()</span></code></a>: zeros_smoothing
deactivated and replaced by a ramp truncation function as
recommendaed by Mertz (1967). A much better shape of the continnum
is obtained.</li>
<li>Phase optimization in 3d with
<a class="reference internal" href="orb.utils.html#orb.utils.fft.optimize_phase3d" title="orb.utils.fft.optimize_phase3d"><code class="xref py py-meth docutils literal notranslate"><span class="pre">orb.utils.fft.optimize_phase3d()</span></code></a>.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="orb.utils.html" class="btn btn-neutral float-left" title="orb.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Thomas Martin (thomas.martin.1@ulaval.ca)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>